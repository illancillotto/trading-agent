# Configurazione Market Data Aggregator
# Elenco dei provider da caricare dalla cartella backend/market_data/exchanges/

providers:
  - binance
  - bybit
  - okx
  - coinbase
  - kucoin       # Abilitato per microstructure (4% market share)
  - cryptocom    # Abilitato per microstructure (6% market share)
  #- kraken
  #- bitget
  #- gate
  #- htx
  - mexc
  #- bingx
  #- uniswap
  - coinglass    # Per liquidazioni aggregate

timeout: 5  # Timeout globale in secondi per le richieste

# NUOVA SEZIONE - Microstructure settings
microstructure:
  enabled: true
  whale_threshold_usd: 500000     # Soglia per whale wall detection
  order_book_depth: 50            # Livelli order book da richiedere

  # Cache TTL (secondi)
  cache_ttl_orderbook: 30
  cache_ttl_liquidations: 300     # 5 minuti
  cache_ttl_funding: 60
  cache_ttl_oi: 120               # 2 minuti

  # Exchange weights per aggregazione ponderata (Kaiko 2025 market share data)
  # Total coverage: ~94% market
  exchange_weights:
    binance: 0.43      # 43% (era 45%, ridotto per fare spazio)
    okx: 0.18          # 18% (invariato)
    bybit: 0.15        # 15% (invariato)
    coinbase: 0.08     # 8% (invariato)
    cryptocom: 0.06    # 6% (nuovo - Crypto.com)
    kucoin: 0.04       # 4% (nuovo - KuCoin)
